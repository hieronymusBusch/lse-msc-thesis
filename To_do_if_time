To do (given time): 


## testing serial correlation in panel: Wooldrige test 
# -> however, also need to estimate roh to make explicit remarks to 2021 paper
model <- plm(linc ~ t_1xyears + factor(syear) + factor(birthregion), effect = "twoways",
             data=dfmain, model="within", index = c("pid", "years_grad"))
summary(model)
pwartest(model)

table(index(dfmain), useNA = "ifany")


## correcting conditional logit standard errors for panel heteroscadasticity, 
# best would be to write own Arellano 1987 estimator and then use output of 
# clogit estimation from survival package OR find different CL estimator and
# use sandwich package for robustness 
model <- clogit(edu_cur ~ t_1xyears + factor(years_grad) + strata(pid), 
                dfmain[which(dfmain$years_grad < 8),], 
                id = pid)
summary(model)$coefficients
model_res <- model$residuals
vcovHC(model, method = "arellano", cluster = c("pid", "years_grad"), type = "const")
